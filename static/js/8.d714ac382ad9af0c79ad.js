webpackJsonp([8],{642:function(s,e,t){function n(s){t(699)}var i=t(12)(t(688),t(743),n,null,null);s.exports=i.exports},676:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(77),i=t.n(n),a=t(65),r=t(66);e.default={data:function(){return{singinThenStatus:0,nickname:"",usersex:"",userdesc:""}},props:{username:{type:String,default:""}},methods:{nextSub:function(){return 0===this.singinThenStatus?void this.updateUserSigninInfo():1===this.singinThenStatus?void this.updateUserDesc():2===this.singinThenStatus?(this.showSinginThen=!1,this.$emit("hidesingin"),void(this.status=0)):void 0},updateUserSigninInfo:function(){var s=this.nickname.replace(/(^\s*)|(\s*$)/g,"");if(""===s||s.includes(" "))return void this.$msg({text:"昵称中间不能为空",background:"red"});""!==this.usersex&&(this.singinThenStatus=this.singinThenStatus+1)},updateUserDesc:function(){var s=this;this.userdesc.length<10?this.$msg({text:"描述不能少于10个字",background:"red"}):a.a.post(r.a.UPDATE_SINGIN_INFO,{username:this.username,nickname:this.nickname,usersex:this.usersex,userdesc:this.userdesc}).then(function(e){console.log(e.data),"1"===e.data.code&&(s.$msg({text:"恭喜，已激活注册的账号，可直接登录",background:"#00d032"}),s.singinThenStatus++)},function(s){alert("数据请求错误: "+i()(s))})}}}},688:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(77),i=t.n(n),a=t(65),r=t(231),o=t(234),u=t(66),c=t(733),d=t.n(c);e.default={data:function(){return{status:0,showSinginThen:!1,username:"",password:"",susername:"",spassword:"",rightSigninName:""}},methods:{loginMode:function(){this.status=0},registerMode:function(){this.status=1},subInfo:function(){if(0===this.status)return void this.login();this.singin()},login:function(){var s=this;if(""===this.username)return void this.$msg("请输入用户名");a.a.post(u.a.LOGIN,{username:this.username,password:this.password,lastlogin:r.a.formatDate(new Date,"yyyy-MM-dd hh:mm:ss"),path:"production"}).then(function(e){"1"===e.data.code?(o.a.setCookie("c_user_info",i()(e.data),864e5),s.$router.push("/home")):s.$msg(e.data.msg)},function(s){alert("数据请求错误: "+i()(s))})},singinThen:function(){this.showSinginThen=!0},hideSingIn:function(){this.status=0,this.showSinginThen=!1},enterSingin:function(){this.$refs.usePwd!==document.activeElement&&this.$refs.suserPwd!==document.activeElement||(this.status?this.singin():this.login())},singin:function(){var s=this;return""===this.susername?void this.$msg("请输入用户名"):this.testPassword(this.spassword)?void a.a.post(u.a.SINGIN,{username:this.susername,password:this.spassword,regtime:r.a.formatDate(new Date,"yyyy-MM-dd hh:mm:ss"),path:"production"}).then(function(e){s.$msg(e.data.msg),"1"===e.data.code&&(s.rightSigninName=e.data.username,s.singinThen())},function(s){alert("数据请求错误: "+i()(s))}):void this.$msg({text:"密码最少6位，包括至少1个大写字母，1个小写字母，1个数字",background:"red"})},testPassword:function(s){return/^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z]).*$/.test(s)}},components:{usercompletion:d.a},mounted:function(){}}},699:function(s,e){},721:function(s,e){},733:function(s,e,t){function n(s){t(721)}var i=t(12)(t(676),t(765),n,null,null);s.exports=i.exports},743:function(s,e){s.exports={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"login"},[s.showSinginThen?s._e():t("div",{staticClass:"login_content"},[t("div",{staticClass:"login_select"},[t("span",{staticClass:"s_singin",class:{active:0===s.status},on:{click:s.loginMode}},[s._v("登录")]),s._v(" "),t("span",{staticClass:"s_register",class:{active:0!==s.status},on:{click:s.registerMode}},[s._v("注册")])]),s._v(" "),t("div",{staticClass:"content_info",on:{keyup:function(e){return"button"in e||!s._k(e.keyCode,"enter",13,e.key,"Enter")?s.enterSingin(e):null}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!s.status,expression:"!status"}],staticClass:"login_div"},[t("div",{staticClass:"block_area"},[t("label",{attrs:{for:"userName"}},[s._v("username")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.username,expression:"username"}],attrs:{type:"text",id:"userName",placeholder:"登陆用户名"},domProps:{value:s.username},on:{input:function(e){e.target.composing||(s.username=e.target.value)}}})]),s._v(" "),t("div",{staticClass:"block_area"},[t("label",{attrs:{for:"userPwd"}},[s._v("password")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],ref:"usePwd",attrs:{type:"password",id:"userPwd",placeholder:"登陆密码"},domProps:{value:s.password},on:{input:function(e){e.target.composing||(s.password=e.target.value)}}})]),s._v(" "),t("input",{attrs:{type:"button",value:"登录"},on:{click:s.subInfo}})]),s._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:s.status,expression:"status"}],staticClass:"singin_div"},[t("div",{staticClass:"block_area"},[t("label",{attrs:{for:"suserName"}},[s._v("username")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.susername,expression:"susername"}],attrs:{type:"text",id:"suserName",placeholder:"注册用户名"},domProps:{value:s.susername},on:{input:function(e){e.target.composing||(s.susername=e.target.value)}}})]),s._v(" "),t("div",{staticClass:"block_area"},[t("label",{attrs:{for:"suserPwd"}},[s._v("password")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.spassword,expression:"spassword"}],ref:"susePwd",attrs:{type:"password",id:"suserPwd",placeholder:"注册密码"},domProps:{value:s.spassword},on:{input:function(e){e.target.composing||(s.spassword=e.target.value)}}})]),s._v(" "),t("input",{attrs:{type:"button",value:"注册"},on:{click:s.singin}})])])]),s._v(" "),s.showSinginThen?t("usercompletion",{attrs:{username:s.rightSigninName},on:{hidesingin:s.hideSingIn}}):s._e()],1)},staticRenderFns:[]}},765:function(s,e){s.exports={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"usercompletion singin_then"},[t("div",{staticClass:"then_content"},[t("h3",{staticClass:"title"},[s._v("请完善以下流程")]),s._v(" "),t("div",{staticClass:"select_menu"},[t("div",{staticClass:"menu_list",class:0===s.singinThenStatus?"active":"",attrs:{"data-index":"0"}},[s._v("基本信息")]),s._v(" "),t("div",{staticClass:"menu_list",class:1===s.singinThenStatus?"active":"",attrs:{"data-index":"1"}},[s._v("个人描述")]),s._v(" "),t("div",{staticClass:"menu_list",class:2===s.singinThenStatus?"active":"",attrs:{"data-index":"2"}},[s._v("完成注册")])]),s._v(" "),t("div",{staticClass:"select_content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:0===s.singinThenStatus,expression:"singinThenStatus === 0"}],staticClass:"content_list"},[t("div",{staticClass:"block_area"},[t("label",{attrs:{for:"nickname"}},[s._v("起个昵称吧！")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.nickname,expression:"nickname"}],attrs:{type:"text",id:"nickname",placeholder:"少年，来一个有故事的名字吧"},domProps:{value:s.nickname},on:{input:function(e){e.target.composing||(s.nickname=e.target.value)}}})]),s._v(" "),t("div",{staticClass:"block_area"},[t("label",[s._v("你是GG还是MM？")]),s._v(" "),t("div",{staticClass:"div_check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.usersex,expression:"usersex"}],staticClass:"custom_input",attrs:{type:"radio",value:"0",name:"usersex",id:"boy"},domProps:{checked:s._q(s.usersex,"0")},on:{change:function(e){s.usersex="0"}}}),s._v(" "),t("label",{staticClass:"inline custom_input",attrs:{for:"boy"}},[s._v("男")])]),s._v(" "),t("div",{staticClass:"div_check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.usersex,expression:"usersex"}],staticClass:"custom_input",attrs:{type:"radio",value:"1",name:"usersex",id:"girl"},domProps:{checked:s._q(s.usersex,"1")},on:{change:function(e){s.usersex="1"}}}),s._v(" "),t("label",{staticClass:"inline custom_input",attrs:{for:"girl"}},[s._v("女")])])])]),s._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:1===s.singinThenStatus,expression:"singinThenStatus === 1"}],staticClass:"content_list"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:s.userdesc,expression:"userdesc"}],attrs:{id:"userdesc",placeholder:"给自己一个简单的描述吧",rows:"5"},domProps:{value:s.userdesc},on:{input:function(e){e.target.composing||(s.userdesc=e.target.value)}}})]),s._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:2===s.singinThenStatus,expression:"singinThenStatus === 2"}],staticClass:"content_list"},[s._m(0)]),s._v(" "),t("input",{ref:"nextBtn",attrs:{type:"button",value:2===s.singinThenStatus?"去登陆":"下一步"},on:{click:s.nextSub}})])])])},staticRenderFns:[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"tips"},[t("i",{staticClass:"icon-smile"}),s._v(" "),t("p",{staticClass:"desc"},[s._v("注册成功，去登陆吧")])])}]}}});