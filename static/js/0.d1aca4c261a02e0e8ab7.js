webpackJsonp([0],{641:function(t,e,i){function s(t){i(698)}var a=i(12)(i(687),i(740),s,null,null);t.exports=a.exports},645:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},646:function(t,e,i){"use strict";var s=i(648),a=i.n(s),n=i(35),r=i(66),c=i(231),u=i(647),o=i(232),l={lastLyric:0,typeType:localStorage.getItem("audioPlayType")||n.a.getters.getAudioPlayType,lyric:{},maxProgressWidth:0,dragProgressTo:0,x:0,l:0,parseLrc:function(t){if(!t)return"";for(var e=t.split("\n"),i={},s=0;s<e.length;s++){var a=decodeURIComponent(e[s]),n=/\[\d*:\d*((\.|\:)\d*)*\]/g,r=a.match(n);if(r)for(var c=a.replace(n,""),u=0,o=r.length;u<o;u++){var l=r[u],d=Number(String(l.match(/\[\d*/i)).slice(1)),m=Number(String(l.match(/\:\d*/i)).slice(1)),g=60*d+m;i[g]=c}}return i},getMusicSheet:function(t){var e="http://www.daiwei.org/vue/server/music.php?inAjax=1&do=playlist&id="+t;r.a.get(e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){n.a.dispatch({type:"set_MusicSheetList",data:t.data.playlist.tracks}),n.a.dispatch({type:"set_MusicList",data:t.data.playlist.tracks})},function(t){console.log(t)})},getAlbum:function(t){var e="http://www.daiwei.org/vue/server/music.php?inAjax=1&do=album&id="+t;r.a.get(e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){n.a.dispatch({type:"set_MusicSheetList",data:t.data.songs}),n.a.dispatch({type:"set_MusicList",data:t.data.songs})},function(t){console.log(t)})},getMusicLrc:function(t,e){var i=this,s=n.a.getters.getAudioEle,a="http://www.daiwei.org/vue/server/music.php?inAjax=1&do=lyric&id="+t.id;r.a.get(a).then(function(a){var r={};void 0===a.data.lrc?r={0:"纯音乐,请欣赏"}:(r=i.parseLrc(a.data.lrc.lyric),i.lyric=r),i.lastLyric=-1;var c={id:t.id,name:t.name,url:l.replaceUrl(t.url),singer:t.singer,duration:t.duration,picurl:t.picurl,index:t.musicndex,lyric:r,lrcContent:n.a.getters.getAudioLrcContent};n.a.commit({type:"setCurrentAudio",data:c}),"unupdate"!==t.type&&""===t.type&&n.a.dispatch({type:"set_MusicPlayList",data:t.list}),e.$nextTick(function(){try{n.a.getters.getAudioEle.load(),n.a.getters.getAudioEle.play()}catch(t){return}n.a.commit({type:"setAudiolrcIndex",data:0}),i.scrollAnimate(document.getElementsByClassName("lrc-wrapper")[0],0),n.a.commit("setAudioIsPlay",!s.paused)})},function(t){console.log(t)})},getMusicDurantionType:function(t){return(Math.floor(t/1e3/60)>=10?Math.floor(t/1e3/60):"0"+Math.floor(t/1e3/60))+":"+(Math.floor(t/1e3%60)>=10?Math.floor(t/1e3%60):"0"+Math.floor(t/1e3%60))},scrollLyric:function(t,e){if(""===this.lyric)return!1;if(t=parseInt(t),void 0===this.lyric||void 0===this.lyric[t])return!1;if(this.lastLyric===t)return!0;var i=0;n.a.commit({type:"setAudiolrcIndex",data:i});for(var s in this.lyric){if(s>t)break;i++}this.lastLyric=t,n.a.commit({type:"setAudiolrcIndex",data:i});try{this.scrollAnimate(e.$refs.lrcWrapper,i*document.getElementsByClassName("lrc-item")[0].offsetHeight)}catch(t){return}},clickIndex:function(t,e){var i=this,s=t.music_id?t.music_id:t.id,a="http://www.daiwei.org/vue/server/music.php?inAjax=1&do=musicInfo&id="+s;r.a.get(a).then(function(a){if(null===a.data.data[0].url){e.$msg("音乐无法播放,请播放其他音频...");var r={index:n.a.getters.getCurrentAudio.index};return n.a.commit({type:"setCurrentAudio",data:r}),void i.playNextPrev(e,!0)}var c={id:s,name:t.name,url:l.replaceUrl(a.data.data[0].url),singer:t.singer,duration:t.duration,picurl:t.pic,musicndex:t.index,list:t.list,type:t.type};i.getMusicLrc(c,e)},function(t){console.log(t)})},searchMusic:function(t,e,i){var s="http://www.daiwei.org/vue/server/music.php?inAjax=1&do=search&count=30&pages="+e+"&name="+t;r.a.get(s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){try{console.log(i.searchMusicList),t.data.result.songs.forEach(function(t,e,s){i.searchMusicList.push(t)}),n.a.dispatch({type:"set_MusicSearchList",data:i.searchMusicList}),n.a.dispatch({type:"set_MusicList",data:i.searchMusicList})}catch(t){return}},function(t){console.log(t)})},scrollAnimate:function(t,e){t.style.WebkitTransform="translate3d(-50%, -"+e+"px, 0)",t.style.transform="transform: translate3d(-50%, -"+e+"px, 0)"},collectMusic:function(t){var e=this;i.i(u.a)().then(function(s){var a={userid:s.id,music_id:t.id,music_name:t.name,singer_id:t.ar[0].id,singer_name:t.ar[0].name,album_id:t.al.id,album_name:t.al.name,music_dur:t.dt,music_picurl:t.al.picUrl};i.i(u.b)("http://www.daiwei.org/vue/server/user.php?inAjax=1&do=collectMusic",a).then(function(t){e.$msg(t.data.msg)},function(t){e.$msg(t)})},function(t){e.$msg(t.msg),e.$router.push({path:"/user/login"})})},getLocalMusic:function(){var t=this;i.i(u.a)().then(function(e){i.i(u.b)("http://www.daiwei.org/vue/server/user.php?inAjax=1&do=getCollectMusic",{userid:e.id}).then(function(t){n.a.commit({type:"setMusicCollectList",data:t.data})},function(e){t.$msg(e)})},function(e){t.$msg(e.msg),t.$router.push({path:"/user/login"})})},deleteMusic:function(t){var e=this;i.i(u.a)().then(function(s){i.i(u.b)("http://www.daiwei.org/vue/server/user.php?inAjax=1&do=delCollectMusic",{userid:s.id,music_id:t}).then(function(i){var s=n.a.getters.getMusicCollectList;s.forEach(function(e,i,a){if(t===e.music_id)return void s.splice(i,1)}),n.a.commit({type:"setMusicCollectList",data:s}),e.$msg(i.data.msg)},function(t){e.$msg(t)})},function(t){e.$msg(t.msg),e.$router.push({path:"/user/login"})})},playPause:function(){try{var t=n.a.getters.getAudioEle;if(!(t.src.indexOf(".mp3")>0))return;t.paused?t.play():t.pause(),n.a.commit("setAudioIsPlay",!t.paused)}catch(t){return}},playNextPrev:function(t,e){var i=this,s=n.a.getters.getCurrentAudio.index||0,a=n.a.getters.getMusicPlayList.length||0,c=n.a.getters.getMusicPlayList||[];if(3!==this.typeType?e?++s>a-1&&(s=0):--s<0&&(s=a-1):s=Math.floor(Math.random()*a),void 0!==c[s]){var u=c[s].music_id?c[s].music_id:c[s].id,o="http://www.daiwei.org/vue/server/music.php?inAjax=1&do=musicInfo&id="+u;r.a.get(o).then(function(a){if(null===a.data.data[0].url){var r={index:n.a.getters.getCurrentAudio.index?e?n.a.getters.getCurrentAudio.index+1:n.a.getters.getCurrentAudio.index-1:e?1:0};return n.a.commit({type:"setCurrentAudio",data:r}),void i.playNextPrev(t,e)}var o={id:u,name:c[s].name?c[s].name:c[s].music_name,url:l.replaceUrl(a.data.data[0].url),singer:c[s].ar?c[s].ar[0].name:c[s].singer_name,duration:l.getMusicDurantionType(c[s].dt?c[s].dt:c[s].music_dur),picurl:c[s].al?c[s].al.picUrl:c[s].music_picurl,musicndex:s,list:n.a.getters.getMusicList,type:"unupdate"};i.getMusicLrc(o,t)},function(t){console.log(t)})}},initAudioEvent:function(t){var e=this,i=n.a.getters.getAudioEle;i.onloadedmetadata=function(){},i.onended=function(){e.insetMusicListen(),e.playNextPrev(t,!0)},i.ontimeupdate=function(){if(!t.isDrag){var e=n.a.getters.getAudioEle,i=Math.floor(e.duration),s=Math.floor(e.currentTime);l.scrollLyric(s,t),n.a.dispatch("set_AudioCurrentTime",s),n.a.dispatch("set_AudioCurrentD",s/i*100)}},i.onprogress=function(){var e=Math.floor(i.duration);try{if(i.buffered.length>0){for(var s=0,a=0;a<i.buffered.length;a++)(s+=i.buffered.end(a)-i.buffered.start(a))>e&&(s=e,console.log("缓冲完成"));var n=Math.floor(s/e*100);t.bufferingP=n}}catch(t){return}}},dragMouseDown:function(t,e){var i=n.a.getters.getAudioEle;if(!(i.src.indexOf(".")<0)){var s=this;t.isDrag=!0;var a=e||window.event,r=a.clientX,c=a.target.offsetLeft;s.maxProgressWidth=document.getElementById("music_progressD").offsetWidth;var u=document.getElementById("music_progress");u.onmousemove=function(e){if(t.isDrag){var i=e||window.event,a=i.clientX;s.dragProgressTo=Math.min(s.maxProgressWidth,Math.max(0,c+(a-r))),s.updateDragProgress(t,s.maxProgressWidth,s.dragProgressTo)}},u.onmouseup=function(e){var a=i.duration;t.isDrag&&(t.isDrag=!1,i.currentTime=Math.floor(s.dragProgressTo/s.maxProgressWidth*a))},u.onmouseleave=function(e){var a=i.duration;t.isDrag&&(t.isDrag=!1,i.currentTime=Math.floor(s.dragProgressTo/s.maxProgressWidth*a))}}},dragTouchStart:function(t,e){if(!(n.a.getters.getAudioEle.src.indexOf(".")<0)){var i=this;t.isDrag=!0;var s=e||window.event;i.x=s.touches[0].clientX,i.l=s.target.offsetLeft,i.maxProgressWidth=document.getElementById("music_progressD").offsetWidth}},dragTouchMove:function(t,e){var i=this;if(t.isDrag){var s=e||window.event,a=s.touches[0].clientX;i.dragProgressTo=Math.min(i.maxProgressWidth,Math.max(0,i.l+(a-i.x))),i.updateDragProgress(t,i.maxProgressWidth,i.dragProgressTo)}},dragTouchEnd:function(t,e){var i=this,s=n.a.getters.getAudioEle,a=s.duration;t.isDrag&&(t.isDrag=!1,s.currentTime=Math.floor(i.dragProgressTo/i.maxProgressWidth*a))},updateDragProgress:function(t,e,i){var s=n.a.getters.getAudioEle,a=s.duration;l.scrollLyric(Math.floor(i/e*a),t),n.a.dispatch("set_AudioCurrentTime",Math.floor(i/e*a)),n.a.dispatch("set_AudioCurrentD",Math.floor(i/e*a)/a*100)},clickProgress:function(t){var e=n.a.getters.getAudioEle,i=e.duration,s=t||window.event,a=s.offsetX,r=document.getElementById("music_progressD").offsetWidth;e.currentTime=Math.floor(a/r*i)},replaceUrl:function(t){return t.indexOf("//m7c")<0?t.indexOf("//m8c")?t.replace("//m8c","//m8"):t:t.replace("//m7c","//m7")},insetMusicListen:function(){i.i(u.a)().then(function(t){var e=n.a.getters.getCurrentAudio.index,s=n.a.getters.getMusicPlayList,a={userid:t.id,username:t.username,music_id:s[e].music_id||s[e].id,music_name:s[e].music_name||s[e].name,singer_id:s[e].singer_id||s[e].ar[0].id,singer_name:s[e].singer_name||s[e].ar[0].name,album_id:s[e].album_id||s[e].al.id,album_name:s[e].album_name||s[e].al.name,music_dur:s[e].music_dur||s[e].dt,music_picurl:s[e].music_picurl||s[e].al.picUrl,listen_time:c.a.formatDate(new Date,"yyyy-MM-dd hh:mm:ss")};i.i(u.b)("http://www.daiwei.org/vue/server/user.php?inAjax=1&do=userMusicListen",a).then(function(t){console.log(a.music_name+"播放完成")},function(t){o.default.$msg(t)})},function(t){o.default.$msg(t.msg)})},setPlayType:function(t){this.typeType=a()(t),n.a.dispatch({type:"set_AudioPlayType",data:this.typeType}),localStorage.setItem("audioPlayType",this.typeType)}};e.a=l},647:function(t,e,i){"use strict";function s(t,e){return new r.a(function(i,s){c.a.post(t,e).then(function(t){i(t)},function(t){s(t)})})}function a(){var t=u.a.getters.getUserInfo;return new r.a(function(e,i){null===t?(o.a.push("/user/login"),i(l)):e(t)})}e.b=s,e.a=a;var n=i(101),r=i.n(n),c=i(66),u=i(35),o=i(150),l={code:0,msg:"用户未登录"}},648:function(t,e,i){t.exports={default:i(649),__esModule:!0}},649:function(t,e,i){i(652),t.exports=parseInt},650:function(t,e,i){var s=i(15).parseInt,a=i(651).trim,n=i(645),r=/^[-+]?0[xX]/;t.exports=8!==s(n+"08")||22!==s(n+"0x16")?function(t,e){var i=a(String(t),3);return s(i,e>>>0||(r.test(i)?16:10))}:s},651:function(t,e,i){var s=i(60),a=i(102),n=i(67),r=i(645),c="["+r+"]",u="​",o=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),d=function(t,e,i){var a={},c=n(function(){return!!r[t]()||u[t]()!=u}),o=a[t]=c?e(m):r[t];i&&(a[i]=o),s(s.P+s.F*c,"String",a)},m=d.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(o,"")),2&e&&(t=t.replace(l,"")),t};t.exports=d},652:function(t,e,i){var s=i(60),a=i(650);s(s.S+s.F*(Number.parseInt!=a),"Number",{parseInt:a})},653:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(35),a=i(646),n=i(151),r=i.n(n),c=i(233);e.default={data:function(){return{currentMusic:{},params:this.$route.params,currentMusicLrcIndex:0,searchMusicIndex:1,searchMusicList:[]}},methods:{searchMusic:function(t){this.$router.push({name:"searchlist",params:{w:t.target.innerHTML}}),this.searchMusicIndex=1,this.searchMusicList=[],a.a.searchMusic(t.target.innerHTML,this.searchMusicIndex,this)},searchMoreMusic:function(t){var e=t.target,i=e.scrollTop+e.offsetHeight;e.scrollHeight===i&&(this.searchMusicIndex++,a.a.searchMusic(this.params.w,this.searchMusicIndex,this))},pullingUp:function(t){this.searchMusicIndex++,a.a.searchMusic(this.params.w,this.searchMusicIndex,this)},getAlbum:function(t){this.$router.push({name:"albumlist",params:{id:t}})},getMusicDurationType:function(t){return a.a.getMusicDurantionType(t,this)},clickPlayList:function(t,e,i,s,n,r,c){var u={id:t,name:e,pic:i,singer:s,duration:n,index:r,list:this.musiclist,type:this.musictype};a.a.clickIndex(u,this)},showIcon:function(t){i.i(c.a)(t.target,"visible")},hideIcon:function(t){i.i(c.b)(t.target,"visible")},deleteMusic:function(t){a.a.deleteMusic.call(this,t)},initMusic:function(){this.$emit("init")},collectMusic:function(t){var e=s.a.getters.getMusicList[t];a.a.collectMusic.call(this,e)}},components:{scroll:r.a},props:{musiclist:{stype:Array,default:[]},showdelicon:{stype:Boolean,default:!1},musictype:{type:String,default:""}},computed:{getCurrentMusic:function(){return s.a.getters.getCurrentAudio},isNeedPull:function(){return this.$route.path.includes("/music/searchlist")}},watch:{$route:function(t,e){this.params=this.$route.params}}}},654:function(t,e){},655:function(t,e,i){function s(t){i(654)}var a=i(12)(i(653),i(656),s,null,null);t.exports=a.exports},656:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"musiclist music_list_container"},[i("scroll",{staticClass:"music_l_content",attrs:{data:t.musiclist,needPullUp:t.isNeedPull},on:{pullingUp:t.pullingUp}},[i("div",{staticClass:"content"},[t.musiclist.length?t._e():i("span",{staticClass:"list_empty"},[t._v("暂无音乐列表哦 !")]),t._v(" "),t._l(t.musiclist,function(e,s){return t.musiclist&&t.musiclist[0].music_id?i("div",{key:e.music_id,staticClass:"music_list border-1px",attrs:{"data-musicid":e.music_id,"data-pic":e.music_picurl},on:{mouseenter:t.showIcon,mouseleave:t.hideIcon,click:function(i){t.clickPlayList(e.music_id,e.music_name,e.music_picurl,e.singer_name,t.getMusicDurationType(e.music_dur),s),t.musiclist}}},[i("span",{staticClass:"music_index"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.getCurrentMusic.id!==e.music_id,expression:"getCurrentMusic.id !== list.music_id"}]},[t._v(t._s(s+1))]),t._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:t.getCurrentMusic.id===e.music_id,expression:"getCurrentMusic.id === list.music_id"}],attrs:{src:"http://www.daiwei.org/vue/bg/wave.gif",alt:"未曾遗忘的青春"}})]),t._v(" "),i("div",{staticClass:"music_name"},[i("span",{staticClass:"span_name"},[t._v(t._s(e.music_name))]),t._v(" "),i("div",{staticClass:"hover_menu"},[t.showdelicon?i("i",{staticClass:"icon-delete",on:{click:function(i){i.stopPropagation(),t.deleteMusic(e.music_id)}}}):t._e(),t._v(" "),t.showdelicon?t._e():i("i",{staticClass:"icon-add",on:{click:function(e){e.stopPropagation(),t.collectMusic(s)}}})])]),t._v(" "),e.singer_name?i("span",{staticClass:"music_singer"},[i("span",{on:{click:function(e){e.stopPropagation(),t.searchMusic(e)}}},[t._v(t._s(e.singer_name))])]):t._e(),t._v(" "),e.album_name?i("span",{staticClass:"music_zhuanji"},[i("span",{on:{click:function(i){i.stopPropagation(),t.getAlbum(e.album_id)}}},[t._v(t._s(e.album_name))])]):t._e(),t._v(" "),i("span",{staticClass:"music_duration"},[t._v(t._s(t.getMusicDurationType(e.music_dur)))])]):t._e()}),t._v(" "),t._l(t.musiclist,function(e,s){return t.musiclist&&t.musiclist[0].al?i("div",{key:e.id,staticClass:"music_list border-1px",attrs:{"data-musicid":e.id,"data-pic":e.al.picUrl},on:{mouseenter:t.showIcon,mouseleave:t.hideIcon,click:function(i){t.clickPlayList(e.id,e.name,e.al.picUrl,e.ar[0].name,t.getMusicDurationType(e.dt),s),t.musiclist}}},[i("span",{staticClass:"music_index"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.getCurrentMusic.id!==e.id,expression:"getCurrentMusic.id !== list.id"}]},[t._v(t._s(s+1))]),t._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:t.getCurrentMusic.id===e.id,expression:"getCurrentMusic.id === list.id"}],attrs:{src:"http://www.daiwei.org/vue/bg/wave.gif",alt:"未曾遗忘的青春"}})]),t._v(" "),i("div",{staticClass:"music_name"},[i("span",{staticClass:"span_name"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"hover_menu"},[t.showdelicon?i("i",{staticClass:"icon-delete",on:{click:function(i){i.stopPropagation(),t.deleteMusic(e.music_id)}}}):t._e(),t._v(" "),t.showdelicon?t._e():i("i",{staticClass:"icon-add",on:{click:function(e){e.stopPropagation(),t.collectMusic(s)}}})])]),t._v(" "),e.ar?i("span",{staticClass:"music_singer"},[i("span",{on:{click:function(e){e.stopPropagation(),t.searchMusic(e)}}},[t._v(t._s(e.ar[0].name))])]):t._e(),t._v(" "),e.al?i("span",{staticClass:"music_zhuanji"},[i("span",{on:{click:function(i){i.stopPropagation(),t.getAlbum(e.al.id)}}},[t._v(t._s(e.al.name))])]):t._e(),t._v(" "),i("span",{staticClass:"music_duration"},[t._v(t._s(t.getMusicDurationType(e.dt)))])]):t._e()})],2)])],1)},staticRenderFns:[]}},675:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(152),a=i.n(s),n=i(66),r=i(59);e.default={data:function(){return{newUserInfo:this.userSetting,newavatarname:"",newavatar:""}},props:{userSetting:{type:Object,default:{isShow:!1,id:0,username:"",avatar:"",nickname:"",desc:"",sex:0}}},methods:{getPicUrl:function(t){var e=this;this.newavatarname=t.target.files[0].name+"正在上传中...";var i=t.target.files[0],s=new FormData;s.append("file",i),s.append("userId",this.userSetting.id),n.a.upload(r.a.UPLOAD,s).then(function(t){"1"===t.data.code?(e.newUserInfo.avatar=t.data.imageUrl+"?data="+Math.random(),e.newavatar=t.data.imageUrl+"?data="+Math.random(),e.newavatarname="头像上传成功，请完善其他信息并保存",e.$msg(t.data.msg)):(e.newavatarname=t.data.msg,e.$msg(t.data.msg))}).catch(function(t){console.log(t)})},exit:function(){this.$emit("exit",this.newUserInfo)},save:function(){var t=this;n.a.post(r.a.UPDATE_USER_INFO,{userid:this.userSetting.id,nickname:this.userSetting.nickname,desc:this.userSetting.desc}).then(function(e){t.newUserInfo=a()({isShow:!1},e.data.data,{avatar:e.data.data.avatar+"?data="+Math.random()}),t.$emit("save",t.newUserInfo)},function(t){console.log(t)})}}}},687:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(152),a=i.n(s),n=i(234),r=i(655),c=i.n(r),u=i(35),o=i(59),l=i(646),d=i(647),m=i(730),g=i.n(m);e.default={data:function(){return{selectIndex:0,personalCenter:[],suggestList:[],needUpdate:!1,userSetting:{isShow:!1}}},components:{musiclist:c.a,userSetting:g.a},methods:{loginout:function(){n.a.deleteCookie("c_user_info"),this.$router.push("/home")},selectSettingIndex:function(t){this.selectIndex=parseInt(t.target.getAttribute("data-index"))},initMusic:function(){l.a.getLocalMusic.call(this)},initData:function(){var t=this;i.i(d.a)().then(function(e){i.i(d.b)(o.a.GET_PERSONAL_INFO,{userid:u.a.getters.getUserInfo.id||0}).then(function(e){t.personalCenter=e.data.data,t.suggestList=e.data.suggestList,t.userSetting=a()({},t.userSetting,e.data.data)},function(e){t.$msg(e)})},function(e){t.$msg(e)})},selectImage:function(){this.$refs.selectimgbtn.click()},showSubBtn:function(){this.needUpdate=!0,this.$msg({text:"再次移动头像区域以上传图片, 点击提交之后请刷新页面, form提交表单的方法有点挫。。。",duration:6e3})},showSetting:function(t){this.userSetting.isShow=!0},saveInfo:function(t){this.userSetting.isShow=!1,this.personalCenter=a()({},this.personalCenter,t),u.a.dispatch({type:"set_UserInfo",data:this.personalCenter})}},computed:{musicList:function(){return u.a.getters.getMusicCollectList}},mounted:function(){var t=this;this.$nextTick(function(){t.initMusic(),t.initData()})}}},697:function(t,e){},698:function(t,e){},730:function(t,e,i){function s(t){i(697)}var a=i(12)(i(675),i(739),s,"data-v-14777ff0",null);t.exports=a.exports},739:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[t.userSetting.isShow?i("div",{staticClass:"user-setting"},[i("div",{staticClass:"content"},[i("div",{staticClass:"useravatar"},[i("img",{attrs:{src:t.newavatar||t.userSetting.avatar}}),i("div",{staticClass:"upload"},[i("div",{staticClass:"text"},[t._v("点击上传")]),i("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(e){t.getPicUrl(e)}}})]),i("div",{staticClass:"avatarname"},[t._v(t._s(t.newavatarname))])]),i("div",{staticClass:"nickname setting-list"},[i("div",{staticClass:"lable"},[t._v("昵称：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.userSetting.nickname,expression:"userSetting.nickname"}],domProps:{value:t.userSetting.nickname},on:{input:function(e){e.target.composing||t.$set(t.userSetting,"nickname",e.target.value)}}})]),i("div",{staticClass:"userdisc setting-list"},[i("div",{staticClass:"lable"},[t._v("用户描述：")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userSetting.desc,expression:"userSetting.desc"}],domProps:{value:t.userSetting.desc},on:{input:function(e){e.target.composing||t.$set(t.userSetting,"desc",e.target.value)}}})])]),i("div",{staticClass:"div-exit"},[i("span",{staticClass:"exit",on:{click:t.exit}},[t._v("退出")]),i("span",{staticClass:"save",on:{click:t.save}},[t._v("保存")])])]):t._e()])},staticRenderFns:[]}},740:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-info"},[i("userSetting",{attrs:{userSetting:t.userSetting},on:{exit:t.saveInfo,save:t.saveInfo}}),t._v(" "),i("div",{staticClass:"info-content"},[t.personalCenter&&t.personalCenter?i("div",{staticClass:"user-basic-info"},[i("div",{staticClass:"user-basic-l"},[i("div",{staticClass:"user-avatar"},[i("div",{staticClass:"image-avatar",style:{backgroundImage:"url("+t.personalCenter.avatar||"http://daiwei.org/vue/bg/avatar1.jpg)",backgroundSize:"cover",backgroundPosition:"center"}})]),t._v(" "),i("div",{staticClass:"user-basic"},[i("h3",{staticClass:"user-nickname"},[t._v(t._s(""==t.personalCenter.nickname?t.personalCenter.username:t.personalCenter.nickname))]),t._v(" "),i("p",{staticClass:"user-disc"},[t._v(t._s(""!==t.personalCenter.desc?t.personalCenter.desc:"暂无描述"))])])]),t._v(" "),i("div",{staticClass:"user-basic-r"},[i("div",{staticClass:"icon-setinfo",attrs:{title:"累计听歌数量"}},[i("i",{staticClass:"icon-music"}),t._v(" "),i("span",{staticClass:"count"},[t._v(t._s(t.personalCenter.musicCount||0))])]),t._v(" "),i("div",{staticClass:"icon-setinfo need-click",attrs:{title:"个人设置"},on:{click:t.showSetting}},[i("i",{staticClass:"icon-setting"}),t._v(" "),i("span",{staticClass:"count"},[t._v("个人设置")])]),t._v(" "),i("div",{staticClass:"icon-setinfo need-click",attrs:{title:"退出登录"},on:{click:t.loginout}},[i("i",{staticClass:"icon-setting"}),t._v(" "),i("span",{staticClass:"count"},[t._v("退出登录")])])])]):t._e(),t._v(" "),i("div",{staticClass:"mode-info"}),t._v(" "),i("div",{staticClass:"user-detail-info"},[i("ul",{staticClass:"detail-title"},[i("li",{staticClass:"title-list",class:0===t.selectIndex?"active":"",attrs:{"data-index":"0"},on:{click:t.selectSettingIndex}},[t._v("音乐收藏")]),t._v(" "),i("li",{staticClass:"title-list",class:1===t.selectIndex?"active":"",attrs:{"data-index":"1"},on:{click:t.selectSettingIndex}},[t._v("我的建议")])]),t._v(" "),i("div",{staticClass:"detail-content"},[i("div",{staticClass:"content-info list_content_info music-list",class:0===t.selectIndex?"active":""},[t._m(0),t._v(" "),t.musicList?i("musiclist",{attrs:{musiclist:t.musicList,showdelicon:"false"},on:{init:t.initMusic}}):t._e()],1),t._v(" "),i("div",{staticClass:"content-info suggest-info",class:1===t.selectIndex?"active":""},[t._l(t.suggestList,function(e){return t.suggestList?i("li",[t._v("你在 "+t._s(e.suggestTime.split(" ")[0])+"日 给作者留言 # "+t._s(e.suggestContent)+" #")]):t._e()}),t._v(" "),t.suggestList?t._e():i("li",[t._v("暂无留言哦，您可以在"),i("router-link",{attrs:{to:"/about/suggest"}},[t._v("留言板")]),t._v("中给作者留言，提出您的宝贵意见和建议")],1)],2)])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"music_list_title border-1px"},[i("span",{staticClass:"music_index"}),t._v(" "),i("span",{staticClass:"music_name"},[t._v("歌曲")]),t._v(" "),i("span",{staticClass:"music_singer"},[t._v("歌手")]),t._v(" "),i("span",{staticClass:"music_zhuanji"},[t._v("专辑")]),t._v(" "),i("span",{staticClass:"music_duration"},[t._v("时长")])])}]}}});